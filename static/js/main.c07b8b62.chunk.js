(this.webpackJsonpfrontsport24=this.webpackJsonpfrontsport24||[]).push([[0],{144:function(e,t,a){},145:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(144);var s=a(24),i=a(12),l=(a(145),a(96)),d=a.n(l),p=a(123),u=a(124),j="http://127.0.0.1:8000/api/",m=a.n(u).a.create({baseURL:j,timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json"}});m.interceptors.response.use((function(e){return e}),function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==j+"token/refresh/"){e.next=7;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=23;break}if(!(n=localStorage.getItem("refresh_token"))){e.next=21;break}if(r=JSON.parse(atob(n.split(".")[1])),o=Math.ceil(Date.now()/1e3),console.log(r.exp),!(r.exp>o)){e.next=17;break}return e.abrupt("return",m.post("/token/refresh/",{refresh:n}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),m.defaults.headers.Authorization="JWT "+e.data.access,a.headers.Authorization="JWT "+e.data.access,m(a)})).catch((function(e){console.log(e)})));case 17:console.log("Refresh token is expired",r.exp,o),window.location.href="/login/";case 19:e.next=23;break;case 21:console.log("Refresh token not available."),window.location.href="/login/";case 23:return e.abrupt("return",Promise.reject(t));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var h=m,b=a(3);var g=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("h1",{children:"Latest Posts"})})},x=a(39),f=a(231),O=a(232),v=a(127),w=a(230),k=a(229),y=a(233),S=a(234),C=a.p+"static/media/logo.62188fec.png",T=a(125),N=a.n(T),I=(a.p,a.p,Object(k.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},link:{margin:e.spacing(1,1.5)},toolbarTitle:{flexGrow:1},toolbar:{backgroundColor:"#006600"},logo:{width:"300px"},fbLogo:{width:"60px",height:"60px"},twLogo:{width:"0.000000001px",height:"0.00000001px"},insLogo:{width:"0.1px",height:"0.1px"}}})));var W=function(){var e=I(),t=Object(i.f)(),a=Object(n.useState)({search:""}),o=Object(x.a)(a,2),c=o[0],l=o[1];return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(w.a,{}),Object(b.jsx)(f.a,{position:"static",color:"#006600",elevation:0,className:e.appBar,children:Object(b.jsxs)(O.a,{className:e.toolbar,children:[Object(b.jsx)(v.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,children:Object(b.jsx)(y.a,{component:s.b,to:"/",underline:"none",color:"textPrimary",children:Object(b.jsx)("img",{src:C,alt:"logo",className:e.logo})})}),Object(b.jsx)(N.a,{value:c.search,onChange:function(e){return l({search:e})},onRequestSearch:function(){return c.search,t.push({pathname:"/search/",search:"?search="+c.search}),void window.location.reload()}}),Object(b.jsx)("nav",{children:Object(b.jsx)(y.a,{color:"textPrimary",href:"#",className:e.link,component:s.b,to:"/register",children:"Register"})}),Object(b.jsx)(S.a,{href:"#",color:"white",variant:"outlined",className:e.link,component:s.b,to:"/login",children:"Login"}),Object(b.jsx)(S.a,{href:"#",color:"white",variant:"outlined",className:e.link,component:s.b,to:"/logout",children:"Logout"})]})})]})},_=a(37),A=a(235),F=a(236),L=a(242),P=Object(k.a)((function(e){return{footer:Object(_.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function R(){return Object(b.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(b.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"SPORTINFO24"})," ",(new Date).getFullYear()]})}var B=[{title:"Company",description:["Team","History","Contact us","Locations"]},{title:"Features",description:["Cool stuff","Random feature","Team feature","Developer stuff","Another one"]},{title:"Resources",description:["Resource","Resource name","Another resource","Final resource"]},{title:"Legal",description:["Privacy policy","Terms of use"]}];var z=function(){var e=P();return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)(A.a,{maxWidth:"md",component:"footer",className:e.footer,children:[Object(b.jsx)(F.a,{container:!0,spacing:4,justify:"space-evenly",children:B.map((function(e){return Object(b.jsxs)(F.a,{item:!0,xs:6,sm:3,children:[Object(b.jsx)(v.a,{variant:"h6",color:"textPrimary",gutterBottom:!0,children:e.title}),Object(b.jsx)("ul",{children:e.description.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(y.a,{href:"#",variant:"subtitle1",color:"textSecondary",children:e})},e)}))})]},e.title)}))}),Object(b.jsx)(L.a,{mt:5,children:Object(b.jsx)(R,{})})]})})},D=a(56),q=a(243),J=a(240),E=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var U=a(237),M=a(241),H=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,244)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))},G=a(238),Y=a(239),$=Object(k.a)((function(e){return{cardMedia:{paddingTop:"56.25%"},link:{margin:e.spacing(1,1.5)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},postTitle:{fontSize:"16px",textAlign:"left"},postText:{display:"flex",justifyContent:"left",alignItems:"baseline",fontSize:"12px",textAlign:"left",marginBottom:e.spacing(2)}}})),K=function(){var e=$(),t=Object(n.useState)({search:"",articles:[]}),a=Object(x.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){h.get("search/"+window.location.search).then((function(e){var t=e.data;c({posts:t}),console.log(e.data)}))}),[c]),Object(b.jsx)(r.a.Fragment,{children:Object(b.jsx)(A.a,{maxWidth:"md",component:"main",children:Object(b.jsx)(F.a,{container:!0,spacing:5,alignItems:"flex-end",children:o.articles.map((function(t){return Object(b.jsx)(F.a,{item:!0,xs:12,md:4,children:Object(b.jsx)(G.a,{className:e.card,children:Object(b.jsxs)(Y.a,{className:e.cardContent,children:[Object(b.jsxs)(v.a,{gutterBottom:!0,variant:"h6",component:"h2",className:e.postTitle,children:[t.title.substr(0,50),"..."]}),Object(b.jsx)("div",{className:e.postText,children:Object(b.jsxs)(v.a,{color:"textSecondary",children:[t.lead_text.substr(0,40),"..."]})})]})})},t.id)}))})})})},Q=Object(b.jsx)(s.a,{children:Object(b.jsxs)(r.a.StrictMode,{children:[Object(b.jsx)(W,{}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",component:g}),Object(b.jsx)(i.a,{path:"/register",component:function(){var e=Object(i.f)(),t=Object.freeze({email:"",username:"",password:""}),a=Object(n.useState)(t),r=Object(x.a)(a,2),o=r[0],c=r[1],s=function(e){c(Object(D.a)(Object(D.a)({},o),{},Object(_.a)({},e.target.name,e.target.value.trim())))},l=E();return Object(b.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(w.a,{}),Object(b.jsxs)("div",{className:l.paper,children:[Object(b.jsx)(q.a,{className:l.avatar}),Object(b.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(b.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(b.jsxs)(F.a,{container:!0,spacing:2,children:[Object(b.jsx)(F.a,{item:!0,xs:12,children:Object(b.jsx)(J.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:s})}),Object(b.jsx)(F.a,{item:!0,xs:12,children:Object(b.jsx)(J.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:s})}),Object(b.jsx)(F.a,{item:!0,xs:12,children:Object(b.jsx)(J.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:s})})]}),Object(b.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,onClick:function(t){t.preventDefault(),console.log(o),h.post("user/register/",{email:o.email,user_name:o.username,password:o.password}).then((function(t){e.push("/login"),console.log(t),console.log(t.data)}))},children:"Sign Up"}),Object(b.jsx)(F.a,{container:!0,justify:"flex-end",children:Object(b.jsx)(F.a,{item:!0,children:Object(b.jsx)(y.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}}),Object(b.jsx)(i.a,{path:"/login",component:function(){var e=Object(i.f)(),t=Object.freeze({email:"",password:""}),a=Object(n.useState)(t),r=Object(x.a)(a,2),o=r[0],c=r[1],s=function(e){c(Object(D.a)(Object(D.a)({},o),{},Object(_.a)({},e.target.name,e.target.value.trim())))},l=H();return Object(b.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(w.a,{}),Object(b.jsxs)("div",{className:l.paper,children:[Object(b.jsx)(q.a,{className:l.avatar}),Object(b.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(b.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(b.jsx)(J.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:s}),Object(b.jsx)(J.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:s}),Object(b.jsx)(U.a,{control:Object(b.jsx)(M.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(b.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,onClick:function(t){t.preventDefault(),console.log(o),h.post("token/",{email:o.email,password:o.password}).then((function(t){localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),h.defaults.headers.Authorization="JWT "+localStorage.getItem("access_token"),e.push("/")}))},children:"Sign In"}),Object(b.jsxs)(F.a,{container:!0,children:[Object(b.jsx)(F.a,{item:!0,xs:!0,children:Object(b.jsx)(y.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(b.jsx)(F.a,{item:!0,children:Object(b.jsx)(y.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}}),Object(b.jsx)(i.a,{path:"/logout",component:function(){var e=Object(i.f)();return Object(n.useEffect)((function(){h.post("user/logout/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),h.defaults.headers.Authorization=null,e.push("/login")})),Object(b.jsx)("div",{children:"Logout"})}}),Object(b.jsx)(i.a,{path:"/search",component:K})]}),Object(b.jsx)(z,{})]})});c.a.render(Q,document.getElementById("root")),V()}},[[199,1,2]]]);
//# sourceMappingURL=main.c07b8b62.chunk.js.map