{"ast":null,"code":"import _regeneratorRuntime from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useCallback}from\"react\";//import {API_SERVER} from \"../shared/consts\"\nvar usePost=function usePost(url,req){var API_SERVER=\"http://localhost:8000\";var _useState=useState({}),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setError=_useState4[1];var post=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(API_SERVER,\"/\").concat(url),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(req)});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setPostData(_objectSpread({},data));_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setError(true);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);})),[url,req]);return[postData,post,err];};export default usePost;","map":{"version":3,"sources":["C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/src/hooks/usePost.js"],"names":["useState","useCallback","usePost","url","req","API_SERVER","postData","setPostData","err","setError","post","fetch","method","headers","body","JSON","stringify","response","json","data","console","log"],"mappings":"4tBAAA,OAAQA,QAAR,CAAkBC,WAAlB,KAAoC,OAApC,CACA;AAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,GAAD,CAAMC,GAAN,CAAc,CAC1B,GAAMC,CAAAA,UAAU,CAAG,uBAAnB,CACA,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAwBP,QAAQ,CAAC,KAAD,CAAhC,yCAAOQ,GAAP,eAAYC,QAAZ,eACA,GAAMC,CAAAA,IAAI,CAAGT,WAAW,sEAAC,2LAEUU,CAAAA,KAAK,WAAIN,UAAJ,aAAkBF,GAAlB,EAAyB,CACjDS,MAAM,CAAE,MADyC,CAEjDC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFwC,CAKjDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeZ,GAAf,CAL2C,CAAzB,CAFf,QAEPa,QAFO,qCASMA,CAAAA,QAAQ,CAACC,IAAT,EATN,QASPC,IATO,eAUbZ,WAAW,kBAAKY,IAAL,EAAX,CAVa,iFAabC,OAAO,CAACC,GAAR,cACAZ,QAAQ,CAAC,IAAD,CAAR,CAda,qEAAD,GAgBrB,CAACN,GAAD,CAAMC,GAAN,CAhBqB,CAAxB,CAiBA,MAAM,CAACE,QAAD,CAAWI,IAAX,CAAiBF,GAAjB,CAAN,CACH,CAtBD,CAwBA,cAAeN,CAAAA,OAAf","sourcesContent":["import {useState, useCallback} from \"react\"\r\n//import {API_SERVER} from \"../shared/consts\"\r\n\r\nconst usePost = (url, req) => {\r\n    const API_SERVER = \"http://localhost:8000\";\r\n    const [postData, setPostData] = useState({});\r\n    const [err, setError] = useState(false);\r\n    const post = useCallback(async () => {\r\n            try {\r\n                const response = await fetch(`${API_SERVER}/${url}`, {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(req)\r\n                });\r\n                const data = await response.json();\r\n                setPostData({...data});\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n                setError(true);\r\n            }\r\n    }, [url, req]);\r\n    return[postData, post, err]\r\n}\r\n\r\nexport default usePost;"]},"metadata":{},"sourceType":"module"}