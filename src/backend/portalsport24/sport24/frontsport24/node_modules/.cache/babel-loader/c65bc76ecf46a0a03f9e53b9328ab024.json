{"ast":null,"code":"import _objectSpread from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link,Redirect}from'react-router-dom';import{connect}from'react-redux';import{Field,reduxForm}from'redux-form';import{register}from'../../actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=/*#__PURE__*/function(_Component){_inherits(RegisterForm,_Component);var _super=_createSuper(RegisterForm);function RegisterForm(){var _this;_classCallCheck(this,RegisterForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderField=function(_ref){var input=_ref.input,label=_ref.label,type=_ref.type,_ref$meta=_ref.meta,touched=_ref$meta.touched,error=_ref$meta.error;return/*#__PURE__*/_jsxs(\"div\",{className:\"field \".concat(touched&&error?'error':''),children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),{},{type:type})),touched&&error&&/*#__PURE__*/_jsx(\"span\",{className:\"ui pointing red basic label\",children:error})]});};_this.onSubmit=function(formValues){_this.props.register(formValues);};return _this;}_createClass(RegisterForm,[{key:\"render\",value:function render(){if(this.props.isAuthenticated){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"ui container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui segment\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.props.handleSubmit(this.onSubmit),className:\"ui form\",children:[/*#__PURE__*/_jsx(Field,{name:\"username\",type:\"text\",component:this.renderField,label:\"Username\",validate:[required,minLength3,maxLength15]}),/*#__PURE__*/_jsx(Field,{name:\"email\",type:\"email\",component:this.renderField,label:\"Email\",validate:required}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",component:this.renderField,label:\"Password\",validate:required}),/*#__PURE__*/_jsx(Field,{name:\"password2\",type:\"password\",component:this.renderField,label:\"Confirm Password\",validate:[required,passwordsMatch]}),/*#__PURE__*/_jsx(\"button\",{className:\"ui primary button\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'1rem'},children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})});}}]);return RegisterForm;}(Component);var required=function required(value){return value?undefined:'Required';};var minLength=function minLength(min){return function(value){return value&&value.length<min?\"Must be at least \".concat(min,\" characters\"):undefined;};};var minLength3=minLength(3);var maxLength=function maxLength(max){return function(value){return value&&value.length>max?\"Must be \".concat(max,\" characters or less\"):undefined;};};var maxLength15=maxLength(15);var passwordsMatch=function passwordsMatch(value,allValues){return value!==allValues.password?'Passwords do not match':undefined;};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated};};RegisterForm=connect(mapStateToProps,{register:register})(RegisterForm);// export default reduxForm({\n//   form: 'registerForm'\n// })(RegisterForm);\nexport default RegisterForm;","map":{"version":3,"sources":["C:/Portal-Sportowy/src/backend/portalsport24/sport24/frontsport24/src/components/auth/RegisterForm.js"],"names":["React","Component","Link","Redirect","connect","Field","reduxForm","register","RegisterForm","renderField","input","label","type","meta","touched","error","onSubmit","formValues","props","isAuthenticated","handleSubmit","required","minLength3","maxLength15","passwordsMatch","marginTop","value","undefined","minLength","min","length","maxLength","max","allValues","password","mapStateToProps","state","auth"],"mappings":"u4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,KAAT,CAAgBC,SAAhB,KAAiC,YAAjC,CACA,OAASC,QAAT,KAAyB,oBAAzB,C,2FAEMC,CAAAA,Y,mVACJC,W,CAAc,cAAsD,IAAnDC,CAAAA,KAAmD,MAAnDA,KAAmD,CAA5CC,KAA4C,MAA5CA,KAA4C,CAArCC,IAAqC,MAArCA,IAAqC,gBAA/BC,IAA+B,CAAvBC,OAAuB,WAAvBA,OAAuB,CAAdC,KAAc,WAAdA,KAAc,CAClE,mBACE,aAAK,SAAS,iBAAWD,OAAO,EAAIC,KAAX,CAAmB,OAAnB,CAA6B,EAAxC,CAAd,wBACE,uBAAQJ,KAAR,EADF,cAEE,4CAAWD,KAAX,MAAkB,IAAI,CAAEE,IAAxB,GAFF,CAGGE,OAAO,EAAIC,KAAX,eACC,aAAM,SAAS,CAAC,6BAAhB,UAA+CA,KAA/C,EAJJ,GADF,CASD,C,OAEDC,Q,CAAW,SAAAC,UAAU,CAAI,CACvB,MAAKC,KAAL,CAAWX,QAAX,CAAoBU,UAApB,EACD,C,8DAED,iBAAS,CACP,GAAI,KAAKC,KAAL,CAAWC,eAAf,CAAgC,CAC9B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CACD,mBACE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cACE,QAAQ,CAAE,KAAKD,KAAL,CAAWE,YAAX,CAAwB,KAAKJ,QAA7B,CADZ,CAEE,SAAS,CAAC,SAFZ,wBAIE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAE,KAAKP,WAHlB,CAIE,KAAK,CAAC,UAJR,CAKE,QAAQ,CAAE,CAACY,QAAD,CAAWC,UAAX,CAAuBC,WAAvB,CALZ,EAJF,cAWE,KAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAE,KAAKd,WAHlB,CAIE,KAAK,CAAC,OAJR,CAKE,QAAQ,CAAEY,QALZ,EAXF,cAkBE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAE,KAAKZ,WAHlB,CAIE,KAAK,CAAC,UAJR,CAKE,QAAQ,CAAEY,QALZ,EAlBF,cAyBE,KAAC,KAAD,EACE,IAAI,CAAC,WADP,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAE,KAAKZ,WAHlB,CAIE,KAAK,CAAC,kBAJR,CAKE,QAAQ,CAAE,CAACY,QAAD,CAAWG,cAAX,CALZ,EAzBF,cAgCE,eAAQ,SAAS,CAAC,mBAAlB,sBAhCF,GADF,cAmCE,WAAG,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAV,oDAC2B,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAD3B,GAnCF,GADF,EADF,CA2CD,C,0BAhEwBxB,S,EAmE3B,GAAMoB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAK,KAAK,QAAKA,CAAAA,KAAK,CAAGC,SAAH,CAAe,UAAzB,EAAtB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,GAAG,QAAI,UAAAH,KAAK,QAC5BA,CAAAA,KAAK,EAAIA,KAAK,CAACI,MAAN,CAAeD,GAAxB,4BACwBA,GADxB,gBAEIF,SAHwB,EAAT,EAArB,CAKA,GAAML,CAAAA,UAAU,CAAGM,SAAS,CAAC,CAAD,CAA5B,CAEA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,GAAG,QAAI,UAAAN,KAAK,QAC5BA,CAAAA,KAAK,EAAIA,KAAK,CAACI,MAAN,CAAeE,GAAxB,mBAAyCA,GAAzC,wBAAoEL,SADxC,EAAT,EAArB,CAGA,GAAMJ,CAAAA,WAAW,CAAGQ,SAAS,CAAC,EAAD,CAA7B,CAEA,GAAMP,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACE,KAAD,CAAQO,SAAR,QACrBP,CAAAA,KAAK,GAAKO,SAAS,CAACC,QAApB,CAA+B,wBAA/B,CAA0DP,SADrC,EAAvB,CAGA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCjB,eAAe,CAAEiB,KAAK,CAACC,IAAN,CAAWlB,eADI,CAAL,EAA7B,CAIAX,YAAY,CAAGJ,OAAO,CACpB+B,eADoB,CAEpB,CAAE5B,QAAQ,CAARA,QAAF,CAFoB,CAAP,CAGbC,YAHa,CAAf,CAKA;AACA;AACA;AAEA,cAAeA,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { register } from '../../actions/auth';\r\n\r\nclass RegisterForm extends Component {\r\n  renderField = ({ input, label, type, meta: { touched, error } }) => {\r\n    return (\r\n      <div className={`field ${touched && error ? 'error' : ''}`}>\r\n        <label>{label}</label>\r\n        <input {...input} type={type} />\r\n        {touched && error && (\r\n          <span className='ui pointing red basic label'>{error}</span>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = formValues => {\r\n    this.props.register(formValues);\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isAuthenticated) {\r\n      return <Redirect to='/' />;\r\n    }\r\n    return (\r\n      <div className='ui container'>\r\n        <div className='ui segment'>\r\n          <form\r\n            onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n            className='ui form'\r\n          >\r\n            <Field\r\n              name='username'\r\n              type='text'\r\n              component={this.renderField}\r\n              label='Username'\r\n              validate={[required, minLength3, maxLength15]}\r\n            />\r\n            <Field\r\n              name='email'\r\n              type='email'\r\n              component={this.renderField}\r\n              label='Email'\r\n              validate={required}\r\n            />\r\n            <Field\r\n              name='password'\r\n              type='password'\r\n              component={this.renderField}\r\n              label='Password'\r\n              validate={required}\r\n            />\r\n            <Field\r\n              name='password2'\r\n              type='password'\r\n              component={this.renderField}\r\n              label='Confirm Password'\r\n              validate={[required, passwordsMatch]}\r\n            />\r\n            <button className='ui primary button'>Register</button>\r\n          </form>\r\n          <p style={{ marginTop: '1rem' }}>\r\n            Already have an account? <Link to='/login'>Login</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst required = value => (value ? undefined : 'Required');\r\n\r\nconst minLength = min => value =>\r\n  value && value.length < min\r\n    ? `Must be at least ${min} characters`\r\n    : undefined;\r\n\r\nconst minLength3 = minLength(3);\r\n\r\nconst maxLength = max => value =>\r\n  value && value.length > max ? `Must be ${max} characters or less` : undefined;\r\n\r\nconst maxLength15 = maxLength(15);\r\n\r\nconst passwordsMatch = (value, allValues) =>\r\n  value !== allValues.password ? 'Passwords do not match' : undefined;\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nRegisterForm = connect(\r\n  mapStateToProps,\r\n  { register }\r\n)(RegisterForm);\r\n\r\n// export default reduxForm({\r\n//   form: 'registerForm'\r\n// })(RegisterForm);\r\n\r\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}